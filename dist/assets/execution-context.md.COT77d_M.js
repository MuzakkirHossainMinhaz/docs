import{_ as i,c as t,o as e,ag as a}from"./chunks/framework.C8hRoDJf.js";const d=JSON.parse('{"title":"Execution Context","description":"Learn how to use Execution Context in IntentJS to access request, response, controller, and reflector objects in a standardized way across different application protocols.","frontmatter":{"title":"Execution Context","description":"Learn how to use Execution Context in IntentJS to access request, response, controller, and reflector objects in a standardized way across different application protocols.","keywords":"execution context, HTTP context, request handling, response handling, controller methods, reflector, guards, route param decorators","image":null},"headers":[],"relativePath":"execution-context.md","filePath":"execution-context.md","lastUpdated":1744532804000}'),n={name:"execution-context.md"};function l(h,s,o,p,k,c){return e(),t("div",null,s[0]||(s[0]=[a(`<h1 id="execution-context" tabindex="-1">Execution Context <a class="header-anchor" href="#execution-context" aria-label="Permalink to &quot;Execution Context&quot;">​</a></h1><p>Whenever Intent receives a request, it encapsulates the <code>Request</code>, <code>Response</code>, <code>Controller</code>, <code>Route Handler</code> and <code>Reflector</code> class into a single class. The main aim of this is to provide a standardisation across all type of applications and protocols. Whenever you use <a href="./guards">Guards</a> or <a href="./requests">Custom Route Param Decorators</a>, you will come across Execution Context.</p><h2 id="http-context" tabindex="-1">Http Context <a class="header-anchor" href="#http-context" aria-label="Permalink to &quot;Http Context&quot;">​</a></h2><p>To access the <code>Request</code>, <code>Response</code> of the current HTTP Context, you can call the <code>switchToHttp</code> method inside the execution context object.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CBA6F7;">const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> httpCtx </span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> ctx</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">switchToHttp</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">;</span><span style="--shiki-light:#9CA0B0;--shiki-light-font-style:italic;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"> // returns an instance of HttpExecutionContext</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CBA6F7;">const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> req </span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> ctx</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">getRequest</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">;</span><span style="--shiki-light:#9CA0B0;--shiki-light-font-style:italic;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"> // returns the HTTP Request Object</span></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CBA6F7;">const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> res </span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> ctx</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">getResponse</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">;</span><span style="--shiki-light:#9CA0B0;--shiki-light-font-style:italic;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"> // returns the HTTP Response Object</span></span></code></pre></div><p>Using the same <code>Execution Context</code>, you could also get the type of the <code>Controller</code> class the <code>Controller#method</code> type.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CBA6F7;">const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> cls </span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> ctx</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">getClass</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CBA6F7;">const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> method </span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> ctx</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">getHandler</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">;</span></span></code></pre></div><p>Fruther, if you would like to read some data from these methods, you can also get the instance of the <code>Reflector</code> class from the execution context and use it like below.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CBA6F7;">const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> reflector </span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> ctx</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">getReflector</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;">()</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#8839EF;--shiki-dark:#CBA6F7;">const</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> roles </span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">=</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> reflector</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">.</span><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">getFromMethod</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;">(</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;">&#39;roles&#39;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">;</span></span></code></pre></div><p>To read more about the <code>Reflector</code> class, <a href="./reflectors">click here</a></p>`,10)]))}const y=i(n,[["render",l]]);export{d as __pageData,y as default};
